Iâ€™m developing a full-stack web app (frontend + backend) currently on Replit Preview, and Iâ€™ll be deploying it to Render later.

Iâ€™m facing multiple critical issues:

Login fails with: relation "users" does not exist

Registration fails: "failed to register user"

Session/authentication fails: login doesnâ€™t persist, protected routes fail with â€œauthentication requiredâ€ or â€œerror loading dataâ€

No Forgot Password functionality exists

I'm seeing CORS, cookie, and session issues in both frontend and backend

ğŸ”§ Please fully fix these from the roots and prepare the app to run smoothly on Replit Preview now and Render later.

ğŸ”© Back-End Fixes:
âœ… Setup the users table via Prisma or SQL with correct fields: id, email, hashedPassword, resetToken, resetTokenExpiry, createdAt, updatedAt

âœ… Implement secure registration (with bcrypt hashing)

âœ… Implement working login (verifies password, sets session cookie properly)

âœ… Configure CORS and session cookies for cross-origin use:

On dev (Replit Preview): secure: false, sameSite: "lax", domain left unset

On production (Render): secure: true, sameSite: "none", properly set domain

âœ… Use express-session or your session lib with proper cookie setup

âœ… Add structured logs on login/register/session for easier debugging

ğŸ”„ Front-End Fixes:
âœ… Always use credentials: "include" in fetch for auth routes

âœ… Show appropriate success/error messages on login/register

âœ… Donâ€™t nest <a> tags inside each other (resolve validateDOMNesting warning)

ğŸ” Forgot Password Flow:
âœ… Add forgot password form (email input)

âœ… On backend: generate secure random reset token, store in DB with expiry

âœ… Log reset link to console for now (mock email)

âœ… Add reset password page where user enters new password using token

âœ… Backend endpoint validates token and updates password

ğŸ§ª Final Step:
Test everything fully on Replit Preview:

User registration

Login + cookie/session behavior

Protected route access

Forgot password request â†’ reset flow

Ensure all of this is ready to work when hosted on Render later

Please implement these completely in one go, making the app production-ready with authentication that works across local and deployed environments.